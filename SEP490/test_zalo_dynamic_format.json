{
  "description": "Test requests that simulate Zalo Chatbot Dynamic API calls",
  "tests": [
    {
      "name": "Session Start Test",
      "request": {
        "method": "POST",
        "url": "http://localhost:7075/api/ZaloDynamic/chat",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "userId": "{user_id}",
          "message": "Báº¯t Ä‘áº§u",
          "userPhone": "{shared_info.phone}",
          "userName": "{shared_info.name}"
        }
      },
      "expected_format": {
        "version": "chatbot",
        "content": {
          "messages": [
            {
              "type": "text",
              "text": "ğŸš€ **Báº®T Äáº¦U PHIÃŠN CHAT Má»šI!**",
              "buttons": [
                {
                  "name": "ğŸ›’ Äáº·t hÃ ng",
                  "type": "query",
                  "payload": "Ä‘áº·t hÃ ng"
                }
              ]
            }
          ]
        }
      }
    },
    {
      "name": "Step-by-Step Order Test",
      "request": {
        "method": "POST",
        "url": "http://localhost:7075/api/ZaloDynamic/chat",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "userId": "{user_id}",
          "message": "Äáº·t hÃ ng",
          "userPhone": "0914913696"
        }
      },
      "expected_format": {
        "version": "chatbot",
        "content": {
          "messages": [
            {
              "type": "text",
              "text": "ğŸ›’ **Báº®T Äáº¦U Äáº¶T HÃ€NG Tá»ªNG BÆ¯á»šC**",
              "buttons": [
                {
                  "name": "âŒ Há»§y",
                  "type": "query",
                  "payload": "há»§y Ä‘áº·t hÃ ng"
                }
              ]
            }
          ]
        }
      }
    },
    {
      "name": "Full Order Test (Backward Compatibility)",
      "request": {
        "method": "POST",
        "url": "http://localhost:7075/api/ZaloDynamic/chat",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "userId": "{user_id}",
          "message": "Äáº·t hÃ ng: N-EI 15 1000x800x6 x2",
          "userPhone": "0914913696"
        }
      },
      "expected_format": {
        "version": "chatbot",
        "content": {
          "messages": [
            {
              "type": "text",
              "text": "âœ… ÄÆ N HÃ€NG ÄÃƒ Táº O THÃ€NH CÃ”NG!",
              "buttons": [
                {
                  "name": "ğŸ“‹ Xem chi tiáº¿t",
                  "type": "query",
                  "payload": "chi tiáº¿t Ä‘Æ¡n hÃ ng"
                }
              ]
            }
          ]
        }
      }
    }
  ],
  "curl_commands": {
    "session_start": "curl -X POST 'http://localhost:7075/api/ZaloDynamic/chat' -H 'Content-Type: application/json' -d '{\"userId\":\"zalo_test_001\",\"message\":\"Báº¯t Ä‘áº§u\"}'",
    "step_order": "curl -X POST 'http://localhost:7075/api/ZaloDynamic/chat' -H 'Content-Type: application/json' -d '{\"userId\":\"zalo_test_002\",\"message\":\"Äáº·t hÃ ng\",\"userPhone\":\"0914913696\"}'",
    "full_order": "curl -X POST 'http://localhost:7075/api/ZaloDynamic/chat' -H 'Content-Type: application/json' -d '{\"userId\":\"zalo_test_003\",\"message\":\"Äáº·t hÃ ng: N-EI 15 1000x800x6 x2\",\"userPhone\":\"0914913696\"}'"
  },
  "validation_checklist": {
    "response_format": [
      "âœ… version = 'chatbot'",
      "âœ… content.messages is array",
      "âœ… message.type = 'text'",
      "âœ… message.text is string",
      "âœ… message.buttons is array (optional)",
      "âœ… button.name, button.type, button.payload"
    ],
    "api_requirements": [
      "âœ… Returns status 200",
      "âœ… Response time < 2s",
      "âœ… Max 5 messages per response",
      "âœ… Max 5 buttons per message",
      "âœ… HTTPS (for production)"
    ],
    "zalo_integration": [
      "ğŸ“‹ Setup Dynamic API in Zalo OA Dashboard",
      "ğŸ“‹ Configure API endpoint URL",
      "ğŸ“‹ Map request parameters",
      "ğŸ“‹ Test with ngrok HTTPS URL",
      "ğŸ“‹ Deploy to production"
    ]
  }
} 